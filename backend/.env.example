# ==============================================
# SLA Digital Unified Platform - Environment Configuration
# ==============================================

# ==============================================
# APPLICATION SETTINGS
# ==============================================
NODE_ENV=development
PORT=3001
HOST=0.0.0.0
APP_VERSION=1.0.0

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# PostgreSQL Database URL
DATABASE_URL=postgresql://username:password@localhost:5432/sla_platform

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ==============================================
# REDIS CONFIGURATION
# ==============================================
# Redis URL for caching and sessions
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL settings (in seconds)
CACHE_TTL_OPERATORS=300
CACHE_TTL_SUBSCRIPTIONS=60
CACHE_TTL_HEALTH=300

# ==============================================
# SLA DIGITAL API CONFIGURATION
# ==============================================
# SLA Digital API base URL
SLA_API_BASE_URL=https://api.sla-alacrity.com

# SLA Digital API Credentials (HTTP Basic Auth)
SLA_API_USERNAME=your_sla_username
SLA_API_PASSWORD=your_sla_password

# IP Whitelisting (CIDR format, comma-separated)
# Example: 120.55.23.13/32,192.168.1.0/24
SLA_API_WHITELISTED_IPS=

# Default environment for operators
SLA_DEFAULT_ENVIRONMENT=sandbox

# ==============================================
# AUTHENTICATION & SECURITY
# ==============================================
# JWT Secret for token signing (use a strong random string)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption key for sensitive data (32 characters)
ENCRYPTION_KEY=your-32-character-encryption-key!!

# Password hashing rounds (bcrypt)
BCRYPT_ROUNDS=12

# Session settings
SESSION_TIMEOUT=24h
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_TIME=15m

# ==============================================
# NEW RELIC MONITORING
# ==============================================
# New Relic license key
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key

# New Relic application name
NEW_RELIC_APP_NAME=SLA Digital Unified Platform

# Enable/disable New Relic
NEW_RELIC_ENABLED=true

# New Relic log level (error, warn, info, debug, trace)
NEW_RELIC_LOG_LEVEL=info

# New Relic logging
NEW_RELIC_LOG=stdout

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (json, simple)
LOG_FORMAT=json

# Enable request logging
LOG_REQUESTS=true

# Log file rotation
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14d

# ==============================================
# HEALTH MONITORING
# ==============================================
# Health check interval (in minutes)
HEALTH_CHECK_INTERVAL=5

# Health score thresholds
HEALTH_SCORE_WARNING=0.7
HEALTH_SCORE_CRITICAL=0.5

# Health check timeout (in milliseconds)
HEALTH_CHECK_TIMEOUT=30000

# ==============================================
# RATE LIMITING
# ==============================================
# Rate limit window (in milliseconds)
RATE_LIMIT_WINDOW=900000

# Max requests per window
RATE_LIMIT_MAX=100

# API-specific rate limits
RATE_LIMIT_API_MAX=1000
RATE_LIMIT_ADMIN_MAX=200

# ==============================================
# AZURE CONFIGURATION (Production)
# ==============================================
# Azure Active Directory
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=your_azure_tenant_id

# Azure Key Vault (for production secrets)
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/

# Azure Application Insights
AZURE_INSIGHTS_INSTRUMENTATION_KEY=your_insights_key

# ==============================================
# OPERATOR-SPECIFIC SETTINGS
# ==============================================
# Default timeouts (in milliseconds)
OPERATOR_REQUEST_TIMEOUT=30000
OPERATOR_CONNECTION_TIMEOUT=10000

# Retry settings
OPERATOR_MAX_RETRIES=3
OPERATOR_RETRY_DELAY=1000

# Webhook settings
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_INTERVAL=4h

# ==============================================
# DEVELOPMENT SETTINGS
# ==============================================
# Enable debug mode
DEBUG=false

# Mock external APIs in development
MOCK_SLA_API=false

# Seed database on startup
AUTO_SEED=false

# Enable API documentation
ENABLE_API_DOCS=true

# ==============================================
# PRODUCTION OVERRIDES
# ==============================================
# In production, override these settings:
# NODE_ENV=production
# LOG_LEVEL=warn
# NEW_RELIC_ENABLED=true
# DEBUG=false
# MOCK_SLA_API=false